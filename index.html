<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    
    <h1>The Psychic Game</h1>
    <p id="directions-text">Guess what letter I'm thinking of</p>
    <p id="wins-text">Wins:0</p>
    <p id="losses-text">Losses:0</p>
    <p id="guessesleft-text">Guesses Left:9</p>
    <p id="guessessofar-text">Your Guesses so far:</p>
    
    <script>
    
    function generateAlphabet() {
	    var alphabet = [];
	    for (var i = 97; i < 123; i++) {
		alphabet.push(String.fromCharCode(i));
     }
	    return alphabet;
    };

    var computerChoices = generateAlphabet();


    var wins = 0;
    var losses = 0;
    var guessesLeft = 9;
    var guessesSoFar = [];

    var directionsText = document.getElementById("directions-text");
    var winsText = document.getElementById("wins-text");
    var lossesText = document.getElementById("losses-text");
    var guessesLeftText = document.getElementById("guessesleft-text");
    var guessesSoFarText = document.getElementById("guessessofar-text");
        
    function cGuess() {
        return computerChoices[Math.floor(Math.random() * computerChoices.length)];
    }    

   var computerGuess = cGuess();

    document.onkeyup = function(event) {
    console.log(computerGuess);
    

        var userGuess = event.key;
        
        if (computerChoices.indexOf(userGuess) > -1) {
            if(guessesLeft === 0){
                losses ++;
                guessesLeft = 9;
                guessesSoFar = [];
                computerGuess = cGuess()
            }
            else if (userGuess === computerGuess) {
                console.log('correct');
                wins ++;
                guessesLeft = 9;
                guessesSoFar = [];
                computerGuess = cGuess()
            } else {
                console.log('wrong');
                guessesLeft = guessesLeft-1;
                guessesSoFar.push(userGuess);
            }
        }
        
        winsText.textContent = "Wins:" + wins;
        lossesText.textContent = "Losses:" + losses;
        guessesLeftText.textContent = "Guesses Left:" + guessesLeft;
        guessesSoFarText.textContent = "Your Guesses so far:" + guessesSoFar;
    }

    </script>

</body>
</html>